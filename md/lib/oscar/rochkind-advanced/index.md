# UNIX システムコール・プログラミング

- １９８７年１１月１日初版
- １９９０年６月１日第１版第７刷
- Advanced UNIX Programming by Marc J. Rochkind

<!-- -->

- p. 17 - PRENTICE-HALL から原書が出版されたのは 1985 年のことである。
- p. 19 - ls, ed, sh
- The UNIX Programming Environment by Kernighan, Pike （UNIX プログラミング環境）
- p. 20 - 通常ファイル、ディレクトリ、スペシャルファイル
- i 番号, i ノード
- p. 21 - カーネルは単に、それぞれのプロセスのカレントディレクトリの i 番号を常に記録しているのである。
- p. 22 - カーネルはルートディレクトリに対して i 番号 2 を与えるだけである。
- i 番号はただひとつ。
- i ノードはリンクカウントを持っている。リンクカウントが 0 に達した場合に初めて、カーネルはファイルを削除する。
- 通常ファイルと異なり、ディレクトリに複数のリンクが存在しないことについての体系だった理由はない。しかし全ファイルシステムをスキャンするコマンドのプログラミングが複雑になるため、カーネルはこれを禁じている。
- p. 23 - スペシャルファイルは、デバイスであるか FIFO であるかである。
- デバイススペシャルファイルは、ブロックであるかキャラクタであるかである。
- 通常はバッファのキャッシュ効果を得るためブロックが用いられるが、データベースマネージャなどでは、DMA (direct memory access) を用いるためにキャラクタを用いる。
- p. 24 - オブジェクトファイルはマシン語。
- p. 25 - ひとつのプロセスは、命令セグメント、ユーザ・データセグメント、システム・データセグメントの３つのセグメントから構成される。
- p. 27 - 初期化プロセスはすべての親なし子を養子にする。
- nohup, ハングアップシグナル
- p. 28 - すべてのプロセスに付随する３つのプロセス ID: 
    - プロセス ID = このプロセスを一意的に識別する生の整数
    - 親プロセス ID = このプロセスの親のプロセス ID
    - プロセスグループ ID = プロセスグループリーダのプロセス ID。プロセス ID に等しい場合、このプロセスがグループリーダである。
- ユーザ ID は、パスワードファイル (/etc/passwd) 中のユーザの login 名に関連した正の整数である。ユーザがログインすると、login コマンドはこの ID を、生成される最初のプロセス、つまりログインシェルのユーザ ID とする。シェルから派生するプロセスは、このユーザ ID を引き継ぐ。
- ユーザはまた、グループ（プロセスグループと混同しないように注意）に入れられるが、このグループもまたグループ ID と呼ばれる ID を持つ。ユーザのログイン時のグループ ID はパスワードファイルから取られ、そのユーザのログインシェルのグループ ID となる。
- newgrp
- 実ユーザ ID、実グループ ID、実効ユーザ ID、実効グループ ID。
- p. 30 - スペシャルファイルにおける実行許可は無意味である。
    1. 実効ユーザIDが０の場合、許可は即座に与えられる（実効ユーザがスーパーユーザ）。
    2. プロセスの実効ユーザIDとファイルのユーザIDが一致すると、処理を許可できるかどうか、所有者ビットの組が調べられる。
    3. プロセスの実効グループID = ファイルのグループID -> グループビットを参照
    4. （ユーザIDもグループIDも一致しない） -> 「その他」のビットを参照
- p. 47 - スクリーンエディタ
